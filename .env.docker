# ========================================
# Configuración para Docker Compose
# Sistema de Recomendación y Generación de Horarios - UNI
# ========================================

# ========================================
# Entorno General
# ========================================
NODE_ENV=production
ENVIRONMENT=production
LOG_LEVEL=info

# ========================================
# Puertos Externos (accesibles desde el host)
# ========================================
FRONTEND_PORT=3000
BACKEND_PORT=3004
PREDICTOR_PORT=8002
RECOMENDADOR_PORT=8003

# ========================================
# Base de Datos PostgreSQL (Servidor Externo)
# ========================================
DB_HOST=172.232.188.183
DB_PORT=5435
DB_NAME=schedule_db
DB_USER=admin
DB_PASSWORD=admin123

# URL de conexión completa
DATABASE_URL=postgresql://admin:admin123@172.232.188.183:5435/schedule_db

# ========================================
# Seguridad - Backend JWT
# ========================================
JWT_SECRET=A7f7b2a9H42J4d45bQbar8d81a714bV6m786124pg2e4d8m88f0222f3b6c77za3
JWT_EXPIRATION=8h

# ========================================
# IMPORTANTE: Comunicación entre Servicios
# ========================================
# FRONTEND (en navegador): usa localhost para llamar a las APIs
# Estas variables se configuran en tiempo de BUILD del frontend
NEXT_PUBLIC_BACKEND_URL=http://localhost:3004
NEXT_PUBLIC_PREDICTOR_URL=http://localhost:8002
NEXT_PUBLIC_RECOMENDADOR_URL=http://localhost:8003

# BACKEND (server-side): usa nombres de servicios Docker para comunicación interna
PREDICTOR_API_URL=http://predictor_demanda_api:8000
RECOMENDADOR_API_URL=http://recomendador_cursos_api:8001

# ========================================
# CORS (permitir acceso desde frontend)
# ========================================
CORS_ORIGINS=http://localhost:3000,http://localhost:3004
CORS_ALLOW_CREDENTIALS=true

# ========================================
# Configuración de Aplicaciones
# ========================================
# Puertos internos (dentro de contenedores)
PORT=3003
PREDICTOR_INTERNAL_PORT=8002
RECOMENDADOR_INTERNAL_PORT=8003
